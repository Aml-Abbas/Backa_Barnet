<div class="container">

  <h1>Samtalsunderlag</h1>

  <div class="search">
    <mat-form-field appearance="standard">
      <mat-label>Sök - Id, date eller status</mat-label>
      <input matInput (keyup)="applyFilter($event)" #input>
    </mat-form-field>
    <button mat-raised-button routerLink="/create-conversation-material">Nytt samtalsunderlag</button>
  </div>
    <h2>Barn Lista</h2>
       

    <table role="table">
      <thead role="rowgroup">
        <tr role="row">
          <th role="columnheader">Id</th>
          <th role="columnheader">Datum</th>
          <th role="columnheader">Samtalsunderlagets status</th>
          <th role="columnheader"></th>     
        </tr>
      </thead>
      <tbody role="rowgroup" *ngIf="searchCards.length==0">
        <tr role="row" *ngFor="let card of ConversationCards; let i= index" (click)="moveToCard(card)">
          <td role="cell">{{card.id}}</td>
          <td role="cell">{{card.gradedOn.slice(0, 10)}}</td>
          <td role="cell">{{card.status}}</td>
          <td role="cell">
            <button mat-icon-button class="edit-button" *ngIf="card.status=='Sparat'" (click)="moveToEditCard(card)">
              <span class="material-icons"> create </span>
              Ändra
              </button>
          </td>
        </tr>
      </tbody>
       <tbody *ngIf="searchCards.length!=0">
        <tr role="row" *ngFor="let card of searchCards; let i= index" (click)="moveToCard(card)">
          <td role="cell">{{card.id}}</td>
          <td role="cell">{{card.gradedOn.slice(0, 10)}}</td>
          <td role="cell">{{card.status}}</td>
          <td role="cell">
            <button mat-icon-button class="edit-button" *ngIf="card.status=='Sparat'" (click)="moveToEditCard(card)">
              <span class="material-icons"> create </span>
              Ändra
              </button>
          </td>           
        </tr>
      </tbody>
    </table>
    
  </div>